# 有效的括号

>   难度：简单

给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串 `s` ，判断字符串是否有效。

有效字符串需满足：

1.  左括号必须用相同类型的右括号闭合。
2.  左括号必须以正确的顺序闭合。
3.  每个右括号都有一个对应的相同类型的左括号。

示例：

```
输入：s = "()"
输出：true

输入：s = "()[]{}"
输出：true

输入：s = "(]"
输出：false
```

### Solve

>   C:
>
>   模拟栈

```C
bool isValid(char* s) {
    int n = strlen(s);
    if(n % 2 == 1){
        return false;
    }
    int stack[n + 1];
    int top = 0;
    for(int i = 0; i < n; i++){
        switch (*(s + i)){
            case '{':
                stack[top] = 1;
                top++;
                break;
            case '[':
                stack[top] = 2;
                top++;
                break;
            case '(':
                stack[top] = 3;
                top++;
                break;
            case '}':
                if(top == 0){
                    return false;
                }
                else if(stack[top - 1] == 1){
                    top--;
                    stack[top] = 0;
                }
                else{
                    return false;
                }
                break;
            case ']':
                if(top == 0){
                    return false;
                }
                else if(stack[top - 1] == 2){
                    top--;
                    stack[top] = 0;
                }
                else{
                    return false;
                }
                break;
            case ')':
                if(top == 0){
                    return false;
                }
                else if(stack[top - 1] == 3){
                    top--;
                    stack[top] = 0;
                }
                else{
                    return false;
                }
                break;
        }
    }
    if(top == 0){
        return true;
    }
    else{
        return false;
    }

}
```

>   Python:
>

```python
class Solution:
    def isValid(self, s: str) -> bool:
        if len(s) % 2 == 1:
            return False
        dic = {'{':'}', '[':']', '(':')', '?':'?'}
        stack = ['?']
        for c in s:
            if c in dic:
                stack.append(c)
            elif dic[stack.pop()] != c: # 比如c为'}'，看栈中最后一个元素在字典中的值是否为'}'
                return False
        return len(stack) == 1
```

